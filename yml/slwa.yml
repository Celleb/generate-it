swagger: '2.0'
info:
  description: This is the swagger definition for the Stock Locator Main Application.
  version: 0.6.34
  title: BMW SLWA Swagger
  contact:
    email: info@acrontum.de
schemes:
  - http
  - https
host: 'localhost:8000'
basePath: /api/v1
tags:
  - name: auth
    description: Authentication endpoints
  - name: dealerImporter
    description: Dealer and/or importer data
  - name: external
    description: Routes pulling data from external sources
  - name: market-settings
    description: >-
      App setting routes, the settings are market specific and based on the
      users market
  - name: status
    description: Get api status
  - name: user
    description: User API access
  - name: users
    description: Users API access
  - name: vehicle
    description: Vehicle data
  - name: vehicles
    description: Vehicles data
  - name: sa-codes
    description: SA Codes data
securityDefinitions:
  machine_secret:
    type: apiKey
    name: Authorization
    in: header
    required: true
paths:
  /auth/login:
    post:
      tags:
        - auth
      summary: Logs a user in
      description: ''
      operationId: authLogin
      parameters:
        - in: body
          name: email
          description: The users email
          schema:
            type: object
            required:
              - email
              - password
            properties:
              email:
                type: string
              password:
                type: string
      produces:
        - application/json
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/TokenUser'
        '401':
          description: Unauthenticated request
  /auth/logout:
    get:
      tags:
        - auth
      summary: Logs a user out
      description: ''
      operationId: authLogout
      produces:
        - application/json
      responses:
        '200':
          description: successful operation
        '401':
          description: 'Not logged int, cannot logout'
      security:
        - machine_secret: []
  /auth/token-refresh:
    get:
      tags:
        - auth
      summary: Refreshed an existing JWT API token
      description: ''
      operationId: authTokenRefresh
      produces:
        - application/json
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Token'
        '401':
          description: 'Not logged int, cannot refresh'
      security:
        - machine_secret: []
  '/dealer/{id}':
    get:
      tags:
        - dealerImporter
      summary: Gets a dealer based on a provided id
      description: ''
      operationId: dealerShow
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          description: The dealer id
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Dealers'
        '400':
          description: Invalid Business Unit supplied
        '404':
          description: Business Unit not found
      security:
        - machine_secret: []
  '/dealers/{bu}':
    get:
      tags:
        - dealerImporter
      summary: Get all dealers for a business unit
      description: ''
      operationId: dealersList
      produces:
        - application/json
      parameters:
        - in: path
          name: bu
          description: Get all vehicles for defined market. Use BMW_DE as example.
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Dealers'
        '400':
          description: Invalid Business Unit supplied
        '404':
          description: Business Unit not found
      security:
        - machine_secret: []
  '/dealers/{bu}/unique-cities':
    get:
      tags:
        - dealerImporter
      summary: Get all dealers cities for a business unit
      description: ''
      operationId: dealersUniqueCities
      produces:
        - application/json
      parameters:
        - in: path
          name: bu
          description: Get all vehicles for defined market. Use BMW_DE as example.
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/DealersUniqueCities'
        '400':
          description: Invalid Business Unit supplied
        '404':
          description: Business Unit not found
      security:
        - machine_secret: []
  /external/fetch-by-vin/:
    post:
      tags:
        - external
      summary: ''
      description: ''
      operationId: externalFetchCarByVin
      produces:
        - application/json
      parameters:
        - in: body
          name: vins
          description: >-
            Checks an array of VINs where each VIN should represent the same
            model colour etc.
          schema:
            type: object
            required:
              - vins
            properties:
              vins:
                type: array
                items:
                  type: string
                uniqueItems: true
      responses:
        '200':
          description: The reponse will be the preview data for the car
          schema:
            $ref: '#/definitions/ExternalVehicle'
        '404':
          description: Invalid VIN
        '422':
          description: >-
            Input data invalid, either an incorrect VIN or if multiple VINs
            provided then they were not all for the same model
      security:
        - machine_secret: []
  /iso/language:
    get:
      tags:
        - iso
      summary: Returns a full list of langauge iso2 codes
      description: ''
      operationId: isoLanguageCodes
      produces:
        - application/json
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/IsoLanguageCodes'
        '401':
          description: Unauthenticated request
        '404':
          description: Vehicle not found
      security:
        - machine_secret: []
  /status/ping:
    get:
      tags:
        - status
      summary: Ping the service with a defined payload
      description: ''
      operationId: statusPing
      produces:
        - application/json
      parameters:
        - name: echo
          in: query
          required: false
          type: string
      responses:
        '200':
          description: Ping status
          schema:
            $ref: '#/definitions/Status'
        '400':
          description: Bad request.
        '403':
          description: Forbidden.
        '404':
          description: Resource not available.
        '500':
          description: Internal server error.
  /status/health:
    get:
      tags:
        - status
      summary: Check health of the service
      description: ''
      operationId: statusHealth
      produces:
        - application/json
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/Health'
        '400':
          description: Bad request.
        '403':
          description: Forbidden.
        '404':
          description: Resource not available.
        '500':
          description: Internal server error.
  '/market-settings/bu/{fetchBu}':
    get:
      tags:
        - market-settings
      summary: Gets all the current settings for the given BU
      description: ''
      operationId: marketSettingsShow
      produces:
        - application/json
      parameters:
        - in: path
          name: fetchBu
          description: The business unit
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/MarketSetting'
        '404':
          description: Invalid BU Identifier supplied
        '422':
          description: Input data invalid
      security:
        - machine_secret: []
    put:
      tags:
        - market-settings
      summary: Update an existing vehicle
      description: ''
      operationId: marketSettingsUpdate
      produces:
        - application/json
      parameters:
        - in: path
          name: fetchBu
          type: string
          description: The business unit
          required: true
        - in: body
          name: marketSettings
          description: The fields to update
          schema:
            type: object
            properties:
              bu:
                type: string
              frontendCurrencyEur:
                type: boolean
              frontendCurrencyLocal:
                type: boolean
              localCurrencyRateToEur:
                type: number
              localCurrencyCode:
                type: string
              languageCodeIso6391:
                type: string
              localPercentageTaxRate:
                type: number
              showWltp:
                type: boolean
              showNedc:
                type: boolean
              source:
                type: string
              overpassCosts:
                type: array
                items:
                  title: overpassCosts
                  type: object
                  properties:
                    series:
                      type: string
                      description: 'Comma separated list eg: 3,4,5'
                    costEur:
                      type: number
              taxCalculation:
                type: array
                items:
                  title: taxCalculation
                  type: object
                  properties:
                    capacityCm3:
                      type: number
                    costLocalCurrency:
                      type: number
                    taxPercentage:
                      type: number
              emissionSettings:
                type: array
                items:
                  title: emmisionSettings
                  type: object
                  properties:
                    label:
                      type: string
                      enum:
                        - A
                        - B
                        - C
                        - D
                        - E
                        - F
                        - G
                    from:
                      type: number
                      description: From levels of co2
                    to:
                      type: number
                      description: To levels of co2
              application:
                type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/MarketSetting'
        '404':
          description: Invalid BU Identifier supplied
        '422':
          description: Input data invalid
      security:
        - machine_secret: []
  /market-settings/list-bu:
    get:
      tags:
        - market-settings
      summary: Gets all available business units
      description: ''
      operationId: marketSettingsListBu
      produces:
        - application/json
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Bu'
        '401':
          description: Unauthenticated request
        '404':
          description: Page not found
        '422':
          description: Data invalid
      security:
        - machine_secret: []
  /market-settings/export:
    get:
      tags:
        - market-settings
      summary: Export a CSV file containing information of all provided parameters.
      description: ''
      operationId: marketSettingsExport
      produces:
        - text/csv
      parameters:
        - in: query
          name: buList
          description: Defined list of business units (markets). Use BMW_DE as example.
          required: true
          type: array
          items:
            type: string
        - in: query
          name: dateFrom
          description: From date in milliseconds
          required: true
          type: number
        - in: query
          name: dateTo
          description: To date in milliseconds
          required: true
          type: number
        - in: query
          name: stockStatusList
          description: Defined list of stock statuses.
          required: true
          type: array
          items:
            type: string
      responses:
        '200':
          description: successful operation
          schema:
            type: file
        '401':
          description: Unauthenticated request
        '404':
          description: Page not found
        '422':
          description: Data invalid
      security:
        - machine_secret: []
  /user/:
    get:
      tags:
        - user
      summary: Returns the current logged in user
      description: ''
      operationId: userShow
      produces:
        - application/json
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/User'
        '401':
          description: Unauthenticated request
      security:
        - machine_secret: []
  /user/request:
    post:
      tags:
        - user
      summary: >-
        Creates/Updates the authenticated user's request object with provided
        one
      description: ''
      operationId: userRequestCreate
      produces:
        - application/json
      parameters:
        - in: body
          name: request
          description: Request create
          schema:
            type: object
            properties:
              bu:
                type: string
              role:
                type: string
              dealerId:
                type: string
      responses:
        '200':
          description: successful operation
        '404':
          description: Invalid Identifier supplied
        '422':
          description: Input data invalid
      security:
        - machine_secret: []
  '/user/{id}':
    put:
      tags:
        - user
      summary: Updates the provided user
      description: ''
      operationId: userUpdate
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          type: string
          description: The ID of the user to update
          required: true
        - in: body
          name: user
          description: The fields to update
          schema:
            type: object
            properties:
              forename:
                type: string
              surname:
                type: string
              email:
                type: string
              relatedIds:
                type: array
                items:
                  title: relatedIds
                  type: object
                  properties:
                    rtypes:
                      type: array
                      items:
                        type: string
                    id:
                      type: string
              bu:
                type: string
              roles:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                      description: The name of the user role
              request:
                type: object
                properties:
                  bu:
                    type: string
                  role:
                    type: string
                  dealerId:
                    type: string
                  status:
                    type: string
              active:
                type: boolean
              createdAt:
                type: number
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/User'
        '404':
          description: Invalid Identifier supplied
        '422':
          description: Input data invalid
      security:
        - machine_secret: []
  '/users/{bu}':
    get:
      tags:
        - users
      summary: Get all users for a business unit
      description: ''
      operationId: usersList
      produces:
        - application/json
      parameters:
        - in: path
          name: bu
          description: Get all users for defined market. Use BMW_TUR as example.
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Users'
        '400':
          description: Invalid Business Unit supplied
        '404':
          description: Business Unit not found
      security:
        - machine_secret: []
  /vehicle/:
    post:
      tags:
        - vehicle
      summary: Create a new vehicle
      description: ''
      operationId: vehicleCreate
      produces:
        - application/json
      parameters:
        - in: body
          name: car
          description: The vehicle to create.
          schema:
            type: object
            required:
              - vin
              - bu
            properties:
              vin:
                type: string
              bu:
                type: string
              priceInEurosWithoutTax:
                type: number
              dealerId:
                type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Vehicle'
        '400':
          description: Invalid Identifier supplied
        '404':
          description: Vehicle not found
        '422':
          description: Vehicle not found
      security:
        - machine_secret: []
  '/vehicle/{fetchVin}':
    get:
      tags:
        - vehicle
      summary: Get specific vehicle
      description: ''
      operationId: vehicleShow
      produces:
        - application/json
      parameters:
        - in: path
          name: fetchVin
          description: Get a car by VIN
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Vehicle'
        '400':
          description: Invalid Identifier supplied
        '404':
          description: Vehicle not found
      security:
        - machine_secret: []
    put:
      tags:
        - vehicle
      summary: Update an existing vehicle
      description: ''
      operationId: vehicleUpdate
      produces:
        - application/json
      parameters:
        - in: path
          name: fetchVin
          type: string
          description: The VIN of the car to update
          required: true
        - in: body
          name: car
          description: The vehicle to update.
          schema:
            type: object
            properties:
              priceInEurosWithoutTax:
                type: number
              dealerId:
                type: string
              requestId:
                type: string
              requestAccept:
                type: boolean
              stockStatus:
                type: string
                enum:
                  - available
                  - blocked
                  - sold
              co2Emission:
                type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Vehicle'
        '400':
          description: Invalid Identifier supplied
        '404':
          description: Vehicle not found
        '422':
          description: Vehicle not found
      security:
        - machine_secret: []
  '/vehicle/{fetchVin}/options':
    get:
      tags:
        - vehicle
      summary: Get vehicle's translated options based on market's language
      description: ''
      operationId: vehicleOptionsShow
      produces:
        - application/json
      parameters:
        - in: path
          name: fetchVin
          description: Vehicle's VIN
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/VehicleOptions'
        '400':
          description: Invalid Identifier supplied
        '404':
          description: Vehicle not found
      security:
        - machine_secret: []
  /vehicles/:
    post:
      tags:
        - vehicles
      summary: Create a batch of vehicles
      description: ''
      operationId: vehiclesCreateBatch
      produces:
        - application/json
      parameters:
        - in: body
          name: cars
          description: The batch of vehicles to create and their properties.
          required: true
          schema:
            type: object
            required:
              - vins
              - bu
            properties:
              vins:
                type: array
                items:
                  type: string
              bu:
                type: string
              priceInEurosWithoutTax:
                type: number
              dealerId:
                type: string
      responses:
        '200':
          description: successful operation
        '400':
          description: Invalid Identifiers supplied
        '404':
          description: Vehicles not found
        '422':
          description: Vehicles not found
      security:
        - machine_secret: []
    put:
      tags:
        - vehicles
      summary: Updates a batch of vehicles
      description: ''
      operationId: vehiclesUpdateBatch
      produces:
        - application/json
      parameters:
        - in: body
          name: cars
          description: The batch of vehicles to create and their properties.
          required: true
          schema:
            type: object
            required:
              - vins
            properties:
              vins:
                type: array
                items:
                  type: string
              priceInEurosWithoutTax:
                type: number
              dealerId:
                type: string
              processStatus:
                type: string
              requestId:
                type: string
              requestAccept:
                type: boolean
              stockStatus:
                type: string
              co2Emission:
                type: string
      responses:
        '200':
          description: successful operation
        '400':
          description: Invalid Identifiers supplied
        '404':
          description: Vehicles not found
        '422':
          description: Vehicles not found
      security:
        - machine_secret: []
  '/vehicles/stats/{bu}':
    get:
      tags:
        - vehicles
      summary: Get summarized statistics of vehicles for defined market.
      description: ''
      operationId: vehiclesStats
      produces:
        - application/json
      parameters:
        - in: path
          name: bu
          description: Defined market. Use BMW_DE as example.
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/VehiclesStats'
        '400':
          description: Invalid Business Unit supplied
        '404':
          description: Business Unit not found
      security:
        - machine_secret: []
  '/vehicles/bu/{bu}':
    get:
      tags:
        - vehicles
      summary: Get all vehicles for a business unit with query
      description: ''
      operationId: vehiclesList
      resource: '/{proxy+}'
      produces:
        - application/json
      parameters:
        - in: path
          name: bu
          description: Get all vehicles for defined market. Use BMW_DE as example.
          required: true
          type: string
        - in: query
          name: vin
          description: Get vehicle of a specific vin
          required: false
          type: string
        - in: query
          name: city
          description: Get vehicles situated within a given city
          required: false
          type: string
        - in: query
          name: model
          description: Vehicles of given model number
          required: false
          type: string
        - in: query
          name: sa
          description: SA Codes
          required: false
          type: string
        - in: query
          name: dealerSet
          description: Get vehicles with or without a dealer set
          required: false
          type: boolean
        - in: query
          name: priceSet
          description: Get vehicles with or without a price set
          required: false
          type: boolean
        - in: query
          name: dealerName
          description: Get vehicles at dealer by dealer name
          required: false
          type: string
        - in: query
          name: stockStatus
          description: Get vehicles with or without a given stock status
          required: false
          type: string
          enum:
            - available
            - blocked
            - sold
        - in: query
          name: priceFromEur
          description: From price in euros
          required: false
          type: number
        - in: query
          name: priceToEur
          description: To price in euros
          required: false
          type: number
        - in: query
          name: groupReference
          description: Get a group of vehicles
          required: false
          type: number
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Vehicles'
        '400':
          description: Invalid Business Unit supplied
        '404':
          description: Business Unit not found
      security:
        - machine_secret: []
  '/vehicles/bu/{bu}/added-by-user/{userId}':
    get:
      tags:
        - vehicles
      summary: Get all vehicles for a business unit with query
      description: ''
      operationId: vehiclesListUserAdded
      produces:
        - application/json
      parameters:
        - in: path
          name: bu
          description: Get all vehicles for defined market. Use BMW_DE as example.
          required: true
          type: string
        - in: path
          name: userId
          description: The user id list to fetch
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/VehicleAdminExtendedAttributes'
        '400':
          description: Invalid Business Unit supplied
        '404':
          description: Business Unit not found
      security:
        - machine_secret: []
  '/vehicles/bu/{bu}/model-ranges':
    get:
      tags:
        - vehicles
      summary: List all unique model ranges and their names
      description: ''
      operationId: vehiclesListModelRanges
      produces:
        - application/json
      parameters:
        - in: path
          name: bu
          description: The business unit
          required: true
          type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/ModelRanges'
        '400':
          description: Invalid Identifiers supplied
        '404':
          description: Vehicles not found
        '422':
          description: Vehicles not found
      security:
        - machine_secret: []
    put:
      tags:
        - vehicles
      summary: Updates a batch of model ranges
      description: ''
      operationId: vehiclesUpdateModelRanges
      produces:
        - application/json
      parameters:
        - in: path
          name: bu
          description: The business unit
          required: true
          type: string
        - in: body
          name: modelRanges
          description: The batch of model ranges to update.
          required: true
          schema:
            type: object
            properties:
              modelRanges:
                type: array
                items:
                  type: object
                  properties:
                    modelRange:
                      type: string
                    modelRangeText:
                      type: string
      responses:
        '200':
          description: successful operation
        '400':
          description: Invalid Identifiers supplied
        '404':
          description: Vehicles not found
        '422':
          description: Vehicles not found
      security:
        - machine_secret: []
  /sa-codes/:
    put:
      tags:
        - sa-codes
      summary: Updates the provided batch of SA codes
      description: ''
      operationId: saCodesUpdate
      produces:
        - application/json
      parameters:
        - in: body
          name: saCodes
          description: The batch of SA codes to update and their properties.
          required: true
          schema:
            required:
              - saCodes
            properties:
              saCodes:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    bu:
                      type: string
                    model:
                      type: string
                    languageCodeIso6391:
                      type: string
                    sa:
                      type: string
                    text:
                      type: string
                    category:
                      type: string
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/SaCode'
        '404':
          description: Invalid Identifier supplied
        '422':
          description: Input data invalid
      security:
        - machine_secret: []
  '/sa-codes/merge-i18n/{lang}':
    get:
      tags:
        - sa-codes
      summary: Merges SA codes from database with i18n translation files
      description: ''
      operationId: saCodesMerge
      produces:
        - application/json
      parameters:
        - in: path
          name: lang
          type: string
          description: 2 characters language code. Use 'en' as example.
          required: true
      responses:
        '200':
          description: successful operation
        '404':
          description: Invalid Identifier supplied
        '422':
          description: Input data invalid
      security:
        - machine_secret: []
  '/sa-codes/{bu}':
    get:
      tags:
        - sa-codes
      summary: Get all SA codes for the defined market.
      description: ''
      operationId: saCodesList
      produces:
        - application/json
      parameters:
        - in: path
          name: bu
          type: string
          required: true
          description: Market to get the SA codes for.
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/SaCodes'
        '400':
          description: Invalid Business Unit supplied
        '404':
          description: Business Unit not found
      security:
        - machine_secret: []
definitions:
  Health:
    type: object
    properties:
      data:
        type: array
        items:
          title: Health
          type: object
          description: Holds the health information.
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                status:
                  type: string
                  description: The overall health status of the service
                  enum:
                    - NA
                    - OK
                    - WARN
                    - FAIL
                targets:
                  type: array
                  items:
                    title: HealthTarget
                    type: object
                    description: >-
                      The list of target components monitored by the health
                      check
                    properties:
                      name:
                        type: string
                        description: The name of the target component
                      status:
                        type: string
                        description: The health status of the target component
                        enum:
                          - NA
                          - OK
                          - WARN
                          - FAIL
                      message:
                        type: string
                        description: Message for additional information
  Status:
    type: object
    properties:
      data:
        type: array
        items:
          title: Status
          type: object
          description: Status ping information
          properties:
            status:
              type: boolean
              default: true
  Currencies:
    type: object
    properties:
      data:
        type: array
        items:
          title: Currencies
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                currencyName:
                  type: string
                currencyCode:
                  type: string
                exchangeRateEur:
                  type: number
  Dealer:
    type: object
    properties:
      data:
        type: array
        items:
          title: DealerImporter
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                bu:
                  type: string
                dealerName:
                  type: string
                phone:
                  type: string
                fax:
                  type: string
                email:
                  type: string
                website:
                  type: string
                onlineSales:
                  type: boolean
                isDealer:
                  type: boolean
                isImporter:
                  type: boolean
                dealerLocation:
                  type: object
                  properties:
                    address:
                      type: object
                      properties:
                        building:
                          type: string
                        house:
                          type: string
                        street:
                          type: string
                        town:
                          type: string
                        city:
                          type: string
                        postalCode:
                          type: string
                        alpha2CountryCode:
                          type: string
                          description: 2 character ISO_3166-1_alpha-2 country code
                        country:
                          type: string
                    coordinates:
                      type: object
                      properties:
                        lat:
                          type: number
                        lon:
                          type: number
  Dealers:
    type: object
    properties:
      data:
        type: array
        items:
          title: DealerImporters
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                bu:
                  type: string
                dealerName:
                  type: string
                phone:
                  type: string
                fax:
                  type: string
                email:
                  type: string
                website:
                  type: string
                onlineSales:
                  type: boolean
                isDealer:
                  type: boolean
                isImporter:
                  type: boolean
                dealerLocation:
                  type: object
                  properties:
                    address:
                      type: object
                      properties:
                        building:
                          type: string
                        house:
                          type: string
                        street:
                          type: string
                        town:
                          type: string
                        city:
                          type: string
                        postalCode:
                          type: string
                        alpha2CountryCode:
                          type: string
                          description: 2 character ISO_3166-1_alpha-2 country code
                        country:
                          type: string
                    coordinates:
                      type: object
                      properties:
                        lat:
                          type: number
                        lon:
                          type: number
  DealersUniqueCities:
    type: object
    properties:
      data:
        type: array
        items:
          title: DealersUniqueCities
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                city:
                  type: string
  ExternalVehicle:
    type: object
    properties:
      data:
        type: array
        items:
          title: ExternalVehicle
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                vin:
                  type: string
                body:
                  type: string
                color:
                  type: string
                doors:
                  type: integer
                fuel:
                  type: string
                model:
                  type: string
                power:
                  type: integer
                series:
                  type: string
                transmission:
                  type: string
                wheels:
                  type: string
  IsoLanguageCodes:
    type: object
    properties:
      data:
        type: array
        items:
          title: IsoLanguageCodes
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                languageCodeIso6391:
                  type: string
                name:
                  type: string
                nativeName:
                  type: string
  Location:
    type: object
    properties:
      address:
        type: object
        properties:
          building:
            type: string
          house:
            type: string
          street:
            type: string
          town:
            type: string
          city:
            type: string
          postalCode:
            type: string
          alpha2CountryCode:
            type: string
            description: 2 character ISO_3166-1_alpha-2 country code
          country:
            type: string
      coordinates:
        type: object
        properties:
          lat:
            type: number
          lon:
            type: number
  MarketSetting:
    type: object
    properties:
      data:
        type: array
        items:
          title: MarketSetting
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                bu:
                  type: string
                frontendCurrencyEur:
                  type: boolean
                frontendCurrencyLocal:
                  type: boolean
                localCurrencyRateToEur:
                  type: number
                localCurrencyCode:
                  type: string
                languageCodeIso6391:
                  type: string
                localPercentageTaxRate:
                  type: number
                showWltp:
                  type: boolean
                showNedc:
                  type: boolean
                source:
                  type: string
                overpassCosts:
                  type: array
                  items:
                    title: overpassCosts
                    type: object
                    properties:
                      series:
                        type: string
                        description: 'Comma separated list eg: 3,4,5'
                      costEur:
                        type: number
                taxCalculation:
                  type: array
                  items:
                    title: taxCalculation
                    type: object
                    properties:
                      capacityCm3:
                        type: number
                      costLocalCurrency:
                        type: number
                      taxPercentage:
                        type: number
                emissionSettings:
                  type: array
                  items:
                    title: emmisionSettings
                    type: object
                    properties:
                      label:
                        type: string
                        enum:
                          - A
                          - B
                          - C
                          - D
                          - E
                          - F
                          - G
                      from:
                        type: number
                        description: From levels of co2
                      to:
                        type: number
                        description: To levels of co2
                application:
                  type: string
  Bu:
    type: object
    properties:
      data:
        type: array
        items:
          title: businessUnits
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                bu:
                  type: string
  Price:
    type: object
    properties:
      baseCurrencyCodeA:
        type: string
        description: This represents the currency entered which will typically be EUR
      additionalCosts:
        type: array
        items:
          title: additionalCosts
          type: object
          properties:
            title:
              type: string
            amount:
              type: number
      priceWithTax:
        type: number
      priceWithoutTax:
        type: number
      taxRate:
        type: string
      vat:
        type: array
        items:
          title: vat
          type: object
          properties:
            rate:
              type: string
      localCurrency:
        type: object
        properties:
          localCurrencyCodeA:
            type: string
            description: For example GBP or USD
          additionalCosts:
            type: array
            items:
              title: additionalCosts
              type: object
              properties:
                title:
                  type: string
                amount:
                  type: number
          priceWithTax:
            type: number
          priceWithoutTax:
            type: number
          taxRate:
            type: string
          vat:
            type: array
            items:
              title: vat
              type: object
              properties:
                rate:
                  type: string
  Token:
    type: object
    properties:
      data:
        type: array
        items:
          title: JWT
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                token:
                  type: string
                  description: JWT Bearer Token for API authentication
  TokenUser:
    type: object
    properties:
      data:
        type: array
        items:
          title: JWTUser
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                token:
                  type: string
                  description: JWT Bearer Token for API authentication
                userId:
                  type: string
                forename:
                  type: string
                surname:
                  type: string
                email:
                  type: string
                bu:
                  type: string
                roles:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: The name of the user role
  UpdatedBy:
    type: object
    properties:
      updatedDate:
        type: string
      updatedByUserId:
        type: string
  User:
    type: object
    properties:
      data:
        type: array
        items:
          title: User
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                forename:
                  type: string
                surname:
                  type: string
                email:
                  type: string
                relatedIds:
                  type: array
                  items:
                    title: relatedIds
                    type: object
                    properties:
                      rtypes:
                        type: array
                        items:
                          type: string
                      id:
                        type: string
                bu:
                  type: string
                roles:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: The name of the user role
                request:
                  type: object
                  properties:
                    bu:
                      type: string
                    role:
                      type: string
                    dealerId:
                      type: string
                    status:
                      type: string
                active:
                  type: boolean
                createdAt:
                  type: number
  Users:
    type: object
    properties:
      data:
        type: array
        items:
          title: Users
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                forename:
                  type: string
                surname:
                  type: string
                email:
                  type: string
                relatedIds:
                  type: array
                  items:
                    title: relatedIds
                    type: object
                    properties:
                      rtypes:
                        type: array
                        items:
                          type: string
                      id:
                        type: string
                bu:
                  type: string
                roles:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: The name of the user role
                request:
                  type: object
                  properties:
                    bu:
                      type: string
                    role:
                      type: string
                    dealerId:
                      type: string
                    status:
                      type: string
                active:
                  type: boolean
                createdAt:
                  type: number
  RequestCreate:
    type: object
    properties:
      bu:
        type: string
      role:
        type: string
      dealerId:
        type: string
  Vehicles:
    type: object
    properties:
      data:
        type: array
        items:
          title: Vehicles
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              $ref: '#/definitions/VehicleBaseAttributes'
  VehiclesStats:
    type: object
    properties:
      data:
        type: array
        items:
          title: Stats
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                total:
                  type: number
                recentlyAdded:
                  type: number
                priceRequests:
                  type: number
                dealerRequests:
                  type: number
  ModelRanges:
    type: array
    items:
      type: object
      properties:
        modelRange:
          type: string
        modelRangeText:
          type: string
  Vehicle:
    type: object
    properties:
      data:
        type: array
        items:
          title: Vehicle
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              $ref: '#/definitions/VehicleAdminExtendedAttributes'
  VehicleBaseAttributes:
    type: object
    properties:
      vin:
        type: string
      bu:
        type: string
      body:
        type: string
      color:
        type: string
      doors:
        type: integer
      emission:
        type: string
      emissionLabel:
        type: string
        description: For exmaple A or B or C
      fuel:
        type: string
      groupingId:
        type: string
      dealerCoordinates:
        type: object
        properties:
          lat:
            type: number
          lon:
            type: number
      model:
        type: string
      power:
        type: integer
      priceWithTaxEuros:
        type: integer
      priceInformation:
        $ref: '#/definitions/Price'
      series:
        type: string
      transmission:
        type: string
      wheels:
        type: string
      upholstery:
        type: string
      imageUrls:
        type: array
        items:
          title: images
          type: object
          properties:
            perspective:
              type: string
            url:
              type: string
  VehicleExtendedAttributes:
    type: object
    properties:
      vin:
        type: string
      bu:
        type: string
      body:
        type: string
      color:
        type: string
      doors:
        type: integer
      emission:
        type: string
      emissionLabel:
        type: string
        description: For exmaple A or B or C
      fuel:
        type: string
      dealerCoordinates:
        type: object
        properties:
          lat:
            type: number
          lon:
            type: number
      model:
        type: string
      modelValue:
        type: string
      modelRangeText:
        type: string
      modelRange:
        type: string
      consumption:
        type: number
      power:
        type: integer
      priceWithTaxEuros:
        type: integer
      priceInformation:
        $ref: '#/definitions/Price'
      series:
        type: string
      transmission:
        type: string
      wheels:
        type: string
      upholstery:
        type: string
      imageUrls:
        type: array
        items:
          title: images
          type: object
          properties:
            perspective:
              type: string
            url:
              type: string
      dateFirstRegistration:
        type: number
      dateInService:
        type: number
      engineCapacity:
        type: number
      driveType:
        type: string
      dealer:
        type: object
        properties:
          bu:
            type: string
          dealerName:
            type: string
          phone:
            type: string
          fax:
            type: string
          email:
            type: string
          website:
            type: string
          onlineSales:
            type: boolean
          isDealer:
            type: boolean
          isImporter:
            type: boolean
          dealerLocation:
            type: object
            properties:
              address:
                type: object
                properties:
                  building:
                    type: string
                  house:
                    type: string
                  street:
                    type: string
                  town:
                    type: string
                  city:
                    type: string
                  postalCode:
                    type: string
                  alpha2CountryCode:
                    type: string
                    description: 2 character ISO_3166-1_alpha-2 country code
                  country:
                    type: string
              coordinates:
                type: object
                properties:
                  lat:
                    type: number
                  lon:
                    type: number
      features:
        type: object
        properties:
          interior:
            type: array
            items:
              title: interior
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
          exterior:
            type: array
            items:
              title: exterior
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
      modelYear:
        type: number
      leadType:
        type: string
      packages:
        type: array
        items:
          title: packages
          type: object
          properties:
            title:
              type: string
            description:
              type: string
      additionalOptions:
        type: array
        items:
          type: string
          description: eg SA609
  VehicleAdminExtendedAttributes:
    type: object
    properties:
      vin:
        type: string
      bu:
        type: string
      body:
        type: string
      color:
        type: string
      doors:
        type: integer
      emission:
        type: string
      emissionLabel:
        type: string
        description: For exmaple A or B or C
      fuel:
        type: string
      dealerCoordinates:
        type: object
        properties:
          lat:
            type: number
          lon:
            type: number
      model:
        type: string
      power:
        type: integer
      priceWithTaxEuros:
        type: integer
      priceInformation:
        $ref: '#/definitions/Price'
      series:
        type: string
      transmission:
        type: string
      wheels:
        type: string
      upholstery:
        type: string
      imageUrls:
        type: array
        items:
          title: images
          type: object
          properties:
            perspective:
              type: string
            url:
              type: string
      dateFirstRegistration:
        type: number
      dateInService:
        type: number
      engineCapacity:
        type: number
      driveType:
        type: string
      dealer:
        type: object
        properties:
          bu:
            type: string
          dealerName:
            type: string
          phone:
            type: string
          fax:
            type: string
          email:
            type: string
          website:
            type: string
          onlineSales:
            type: boolean
          isDealer:
            type: boolean
          isImporter:
            type: boolean
          dealerLocation:
            type: object
            properties:
              address:
                type: object
                properties:
                  building:
                    type: string
                  house:
                    type: string
                  street:
                    type: string
                  town:
                    type: string
                  city:
                    type: string
                  postalCode:
                    type: string
                  alpha2CountryCode:
                    type: string
                    description: 2 character ISO_3166-1_alpha-2 country code
                  country:
                    type: string
              coordinates:
                type: object
                properties:
                  lat:
                    type: number
                  lon:
                    type: number
      features:
        type: object
        properties:
          interior:
            type: array
            items:
              title: interior
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
          exterior:
            type: array
            items:
              title: exterior
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
      modelYear:
        type: number
      leadType:
        type: string
      packages:
        type: array
        items:
          title: packages
          type: object
          properties:
            title:
              type: string
            description:
              type: string
      additionalOptions:
        type: array
        items:
          type: string
          description: eg SA609
      createdByUserId:
        type: string
      createdAt:
        type: string
      updatedAt:
        type: string
      garbageCollectionDate:
        type: number
      processStatus:
        type: string
        enum:
          - processing
          - failed
          - finished
      stockStatus:
        type: string
        enum:
          - available
          - blocked
          - sold
      requests:
        type: array
        items:
          title: requestObjects
          type: object
          properties:
            requestId:
              type: string
            requestStatus:
              type: string
              enum:
                - accepted
                - denied
                - waiting
            requestType:
              type: string
              enum:
                - priceWithoutTax
                - priceWithTax
                - dealer
            requestedByUserId:
              type: string
            requestCreatedAt:
              type: string
            requestPayloadNumber:
              type: number
            requestPayloadString:
              type: string
      historyPrice:
        type: array
        items:
          title: historyPrice
          type: object
          properties:
            price:
              $ref: '#/definitions/Price'
            updated:
              $ref: '#/definitions/UpdatedBy'
      historyDealer:
        type: array
        items:
          title: historyDealer
          type: object
          properties:
            dealer:
              type: object
              properties:
                bu:
                  type: string
                dealerName:
                  type: string
                phone:
                  type: string
                fax:
                  type: string
                email:
                  type: string
                website:
                  type: string
                onlineSales:
                  type: boolean
                isDealer:
                  type: boolean
                isImporter:
                  type: boolean
                dealerLocation:
                  type: object
                  properties:
                    address:
                      type: object
                      properties:
                        building:
                          type: string
                        house:
                          type: string
                        street:
                          type: string
                        town:
                          type: string
                        city:
                          type: string
                        postalCode:
                          type: string
                        alpha2CountryCode:
                          type: string
                          description: 2 character ISO_3166-1_alpha-2 country code
                        country:
                          type: string
                    coordinates:
                      type: object
                      properties:
                        lat:
                          type: number
                        lon:
                          type: number
            updated:
              type: object
              properties:
                updatedDate:
                  type: string
                updatedByUserId:
                  type: string
  VehicleOptions:
    type: object
    properties:
      lines:
        type: array
        items:
          type: object
          properties:
            code:
              type: string
            category:
              type: string
            subCategory:
              type: string
            shortText:
              type: string
            text:
              type: string
      modvar:
        type: array
        items:
          type: object
          properties:
            code:
              type: string
            category:
              type: string
            subCategory:
              type: string
            shortText:
              type: string
            text:
              type: string
      interior:
        type: array
        items:
          type: object
          properties:
            code:
              type: string
            category:
              type: string
            subCategory:
              type: string
            shortText:
              type: string
            text:
              type: string
      exterior:
        type: array
        items:
          type: object
          properties:
            code:
              type: string
            category:
              type: string
            subCategory:
              type: string
            shortText:
              type: string
            text:
              type: string
      packages:
        type: array
        items:
          type: object
          properties:
            code:
              type: string
            category:
              type: string
            subCategory:
              type: string
            shortText:
              type: string
            text:
              type: string
      options:
        type: array
        items:
          type: object
          properties:
            code:
              type: string
            category:
              type: string
            subCategory:
              type: string
            shortText:
              type: string
            text:
              type: string
      unassignable:
        type: array
        items:
          type: object
          properties:
            code:
              type: string
            category:
              type: string
            subCategory:
              type: string
            shortText:
              type: string
            text:
              type: string
  SaCode:
    type: object
    properties:
      data:
        type: array
        items:
          title: SaCode
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                id:
                  type: string
                bu:
                  type: string
                model:
                  type: string
                languageCodeIso6391:
                  type: string
                sa:
                  type: string
                text:
                  type: string
                category:
                  type: string
  SaCodes:
    type: object
    properties:
      meta:
        type: object
        properties:
          categories:
            type: array
            items:
              title: Category
              type: string
          assignedCategories:
            type: array
            items:
              type: string
      data:
        type: array
        items:
          title: SaCodes
          type: object
          properties:
            type:
              type: string
            id:
              type: string
            attributes:
              type: object
              properties:
                id:
                  type: string
                bu:
                  type: string
                model:
                  type: string
                languageCodeIso6391:
                  type: string
                sa:
                  type: string
                text:
                  type: string
                category:
                  type: string
  FileResponse:
    type: string